<!DOCTYPE HTML>
<meta charset="utf-8">
<html>
    <head>
        <title>Mobile Network Game</title>
        <link rel="stylesheet" type="text/css" href="style.css" />
        <link rel="stylesheet" type="text/css" href="sliders.css" />
    </head>

    <body>
        <div id="info">
            <h1>
                Group Design Project&mdash;Team 4
            </h1>

            <div id="key">
                <h2>Sprite key</h2>
                <div id="noCall"><span class="keySprite">•</span> Idle sprite</div>
                <div id="dialing"><span class="keySprite">•</span> Sprite dialing...</div>
                <div id="callSuccess"><span class="keySprite">•</span> Call succeeded :)</div>
                <div id="callFailure"><span class="keySprite">•</span> Call failed :(</div>
            </div>

            <h2>Price list:</h2>
            <ul>
                <li>Successful call: +5¤</li>
                <li>Failed call: &ndash;2¤</li>
            </ul>

            <div id="blurb">
                <p>Towers can handle 3 calls at a time.</p>
                <p class="monthly">Each month towers increase in price and more customers appear.</p>
                <p>Objective: maximise your ¤.</p>
            </div>

            <h2>Game status:</h2>

            <div><span id="gameOver">Game over!</span></div>
            <div id="monthDisplay" class="monthly">Month: <span class="month-display"></span></div>
            <div id="timeDisplay">Time elapsed: <span class="time-display"></span> sec</div>
        </div>

        <div id="container">
            <svg id="map" viewbox="0 0 800 450" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" version="1.1">
                <!-- Keep people, towers, and range indicators in different layers -->
                <g id="people-group"></g>
                <g id="tower-group"></g>
                <g id="range-group"></g>
                <g id="tower-load-group"></g>
            </svg>
        </div>

        <div id="action-bar">
            <div id="balanceDisplay">
                Balance<br />
                <span class="balance-display"></span>¤
            </div>

            <div id="buttons">
                <button type="button" id="cancelPlacingTower"></button>

                <!-- buttons for placing different types of tower -->
                <button type="button" class="placeTower" id="placeTower1">
                	<p>
                        <span class="tower-price-display"></span>¤
                    </p>
                </button>
                <button type="button" class="placeTower" id="placeTower2">
                	<p>
                        <span class="tower-price-display"></span>¤
                    </p>
                </button>
            </div>

            <div id="status">
                <div id="explanation">
                    <p id="explanationParagraph">Click on map to place a tower.</p>
                </div>
                <div id="balanceNotEnough">
                    <p>Your balance is not enough.</p>
                </div>
            </div>

            <div id="volume">
                <label for="sfx-gain">SFX vol.</label>
                <input id="sfx-gain" class="slider" type="range" min="0" max="100" step="1" value="50" autocomplete="on" onchange="setSfxGain(value)" />
                <label for="music-gain">Music vol.</label>
                <input id="music-gain" class="slider" type="range" min="0" max="100" step="1" value="50" autocomplete="on" onchange="setMusicGain(value)" />
            </div>
        </div>

        <div class="screen" id="start-screen">
    		<p>Welcome to &quot;Mobile Network Game&quot;. The objective of the game is to have non-negative balance of ¤ for as long as possible.</p>
    		<p>Click on the tower icon (that will soon appear) to place a tower. Towers initially cost <span class="tower-price-display"></span>¤, but their cost will gradually increase after every month. There is a monthly maintenance charge for each tower.</p>
    		<p>Sprites on the map correspond to subscribers. They will periodically try to make a call and succeed iff they happen to be within range of an available tower.</p>
    		<p>Towers can handle up to three concurrent calls. You will receive 5¤ for a successful call and lose 2¤ for a failed one.</p>
    		<p>Click the button below to start the game.</p>
    		<button type="button" id="start-btn">Start game</button>
        </div>

        <div class="screen" id="end-screen">
    		<p>Game over. Your network was functional for <span class="time-display"></span> seconds.</p>
    		<p>During its lifetime, your network successfully handled <span class="total-succ-display"></span> calls, and failed to handle <span class="total-fail-display"></span>.</p>
    		<p>Overall, you managed to place <span class="towers-display"></span> tower(s).</p>
    		<p>If you'd like to be considered for career opportunities, please submit your score below!</p>
    		<form id='submitForm' action='submit-score' method='post'>
                <input id='email-input' type='email' placeholder='Email' autofocus required>
                <button type="submit" id="formSubmit">Send</button>
            </form>
            <p id="form-feedback">Your information has been sent.</p>
        </div>

        <div class="screen" id="monthly-screen">
    		<p>A month has passed. Here is the summary:</p>
    		<p>Calls attempted: <span class="calls-display"></span></p>
    		<p>Calls successfully handled by the network: <span class="succ-display"></span></p>
    		<p>You have been charged <span class="maintenance-display"></span>¤ for tower maintenance. A tower now costs <span class="tower-price-display"></span>¤.</p>
    		<p>Click the button below to continue the game.</p>
    		<button type="button" id="continue-btn">Continue game</button>
        </div>

        <script type="text/javascript" src="buffer-loader.js"></script>
        <script type="text/javascript" src="audio.js"></script>
        <script type="text/javascript" src="game.js"></script>
        <script type="text/javascript" src="adj_graph.js"></script>
    </body>
</html>
