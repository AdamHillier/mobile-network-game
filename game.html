<!DOCTYPE HTML>
<meta charset="utf-8">
<html>
    <head>
        <title>Mobile Network Game</title>
        <link rel="stylesheet" type="text/css" href="style.css" />
        <link rel="stylesheet" type="text/css" href="sliders.css" />
    </head>

    <body>

        <div id="container">
            <svg id="map" viewbox="0 0 800 450" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" version="1.1">
                <!-- Keep people, towers, and range indicators in different layers -->
                <g id="people-group"></g>
                <g id="tower-group"></g>
                <g id="range-group"></g>
                <g id="tower-load-group"></g>
            </svg>
        </div>

        <div id="action-bar">
            <div id="balanceDisplay">
                Balance<br />
                <span class="balance-display"></span>¤
            </div>
            <div id="timeDisplay">
            	Game time: <span class="time-display"></span><br />
            	Month: <span class="month-display"></span>
            </div>

            <div id="buttons">
                <button type="button" id="cancelPlacingTower"></button>

                <!-- buttons for placing different types of tower -->
                <button type="button" class="placeTower" id="placeTower1">
                	<p class="btn-price">
                        <span class="tower-price-display"></span>¤
                    </p>
                    <p class="btn-label">Range</p>
                </button>
                <button type="button" class="placeTower" id="placeTower2">
                	<p class="btn-price">
                        <span class="tower-price-display"></span>¤
                    </p>
                    <p class="btn-label">Capacity</p>
                </button>
            </div>

            <div id="status">
                <div id="explanation">
                    <p id="explanationParagraph">Click on map to place a tower.</p>
                </div>
                <div id="balanceNotEnough">
                    <p>Your balance is not enough.</p>
                </div>
            </div>

            <div id="volume">
                <label for="sfx-gain">SFX vol.</label>
                <input id="sfx-gain" class="slider" type="range" min="0" max="100" step="1" value="50" autocomplete="on" onchange="setSfxGain(value)" />
                <label for="music-gain">Music vol.</label>
                <input id="music-gain" class="slider" type="range" min="0" max="100" step="1" value="50" autocomplete="on" onchange="setMusicGain(value)" />
            </div>
        </div>

        <div class="screen" id="start-screen">
        	<h2>Welcome to</h2>
        	<h1>Mobile Network Game</h1>
    		<p>You are the manager of a telecoms company connecting mobile phone calls. The objective of the game is to keep your balance from falling below <span class="money">0¤</span> for as long as possible.</p>
    		<p>Sprites on the map correspond to subscribers. They will periodically try to make phone calls, which will fail if they are not in range of an available tower. You will receive <span class="money">5¤</span> for a successful call and lose <span class="money">2¤</span> for a failed one.</p>
    		<p>Click on a button with the <img src="place-tower.png" /> icon to select a tower, then click on the map to place the tower. Bear in mind that towers can only serve so many people at once.</p>
    		<p>Towers initially cost <span class="money"><span class="tower-price-display"></span>¤</span>, but their cost will gradually increase after every month. There is a monthly maintenance charge of <span class="money"><span class="maintenance-per-tower-display"></span>¤</span> for each tower.</p>
    		<button type="button" id="start-btn">Start game!</button>
        </div>

        <div class="screen" id="end-screen">
    		<p>Game over. Your network was functional for <span class="time-display"></span> seconds.</p>
    		<p>During its lifetime, your network successfully handled <span class="total-succ-display succ"></span> calls, and failed to handle <span class="total-fail-display fail"></span>.</p>
    		<p>Overall, you managed to place <span class="towers-display"></span> tower(s).</p>
    		<p>If you'd like to be considered for career opportunities, please submit your email address below!</p>
    		<form id='submitForm' action='submit-score' method='post'>
                <input id='email-input' type='email' placeholder='Email' autofocus required>
                <button type="submit" id="formSubmit">Send</button>
            </form>
            <p id="form-feedback">Your information has been sent.</p>
        </div>

        <div class="screen" id="monthly-screen">
    		<p>A month has passed. Here is the summary:</p>
    		<p>Calls attempted: <span class="calls-display"></span></p>
    		<p>Calls successfully handled by the network: <span class="succ-display succ"></span></p>
    		<p>You have been charged <span class="money"><span class="maintenance-bill-display"></span>¤</span> for tower maintenance. A tower now costs <span class="money"><span class="tower-price-display"></span>¤</span>.</p>
    		<button type="button" id="continue-btn">Continue game</button>
        </div>

        <script type="text/javascript" src="buffer-loader.js"></script>
        <script type="text/javascript" src="audio.js"></script>
        <script type="text/javascript" src="game.js"></script>
        <script type="text/javascript" src="adj_graph.js"></script>
    </body>
</html>
